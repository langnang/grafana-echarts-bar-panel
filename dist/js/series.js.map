{"version":3,"sources":["../../src/js/series.js"],"names":["series","options","data","_data","_options","children","length","type","itemStyle","normal","color","params","colorList","dataIndex","$init","$data","$color","columns","map","v","text","index","indexOf","symbol_column","_colors","rows","main_color","symbol_color","column","toString","JSON","stringify"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAqBA,kB;AACjB,gCAAYC,OAAZ,EAAqBC,IAArB,EAA2B;AAAA;;AACvB,yBAAKC,KAAL,GAAaD,IAAb;AACA,yBAAKE,QAAL,GAAgBH,OAAhB;AACA,yBAAKI,QAAL,GAAgBJ,QAAQI,QAAR,CAAiBC,MAAjB,GAA0B,CAA1B,GAA8BL,QAAQI,QAAtC,GAAiD,CAAC;AAC9DE,8BAAM,KADwD;AAE9DC,mCAAW;AACPC,oCAAQ;AACJC,uCAAO,eAAUC,MAAV,EAAkB;AACrB,wCAAIC,YAAY,CACZ,KADY,EACL,OADK,EACI,KADJ,EACW,KADX,EACkB,KADlB,EACyB,KADzB,EACgC,KADhC,EACuC,KADvC,EAC8C,KAD9C,EACqD,KADrD,EAC4D,KAD5D,EACmE,KADnE,EAC0E,KAD1E,EACiF,KADjF,EACwF,KADxF,EAC+F,KAD/F,EACsG,KADtG,EAC6G,KAD7G,EACoH,KADpH,EAC2H,KAD3H,EACkI,KADlI,EACyI,KADzI,EACgJ,KADhJ,EACuJ,KADvJ,EAC8J,KAD9J,EACqK,KADrK,EAC4K,KAD5K,EACmL,KADnL,EAC0L,KAD1L,EACiM,KADjM,EACwM,KADxM,EAC+M,KAD/M,EACsN,KADtN,CAAhB;AAGA,2CAAOA,UAAUD,OAAOE,SAAjB,CAAP;AACH;AANG;AADD;AAFmD,qBAAD,CAAjE;AAaA,yBAAKC,KAAL;AACH;;;;4CAEO;AACJ;AACA,6BAAKC,KAAL;AACA,6BAAKC,MAAL;AACH;;;+CACU;AACP,+BAAO,KAAKb,KAAL,CAAW,CAAX,EAAcc,OAAd,CAAsBC,GAAtB,CAA0B;AAAA,mCAAKC,EAAEC,IAAP;AAAA,yBAA1B,CAAP;AACH;;;6CACQ;AAAA;;AACL,4BAAIC,QAAQ,KAAKlB,KAAL,CAAW,CAAX,EAAcc,OAAd,CAAsBK,OAAtB,CAA8B,KAAKC,aAAnC,CAAZ;AACAF,gCAAQA,QAAQ,CAAC,CAAT,GAAaA,KAAb,GAAqB,CAA7B;AACA,4BAAIG,UAAU,KAAKrB,KAAL,CAAW,CAAX,EAAcsB,IAAd,CAAmBP,GAAnB,CAAuB;AAAA,mCAAKC,EAAEE,KAAF,KAAY,CAAZ,GAAgB,MAAKjB,QAAL,CAAcsB,UAA9B,GAA2C,MAAKtB,QAAL,CAAcuB,YAA9D;AAAA,yBAAvB,CAAd;AACA,6BAAKH,OAAL,GAAeA,OAAf;AACA,6BAAKnB,QAAL,CAAc,CAAd,EAAiBG,SAAjB,CAA2BC,MAA3B,CAAkCC,KAAlC,GAA0C,UAAUC,MAAV,EAAkB;AACxD,mCAAOa,QAAQb,OAAOE,SAAf,CAAP;AACH,yBAFD;AAGH;;;4CACO;AACJ,4BAAIQ,QAAQ,KAAKlB,KAAL,CAAW,CAAX,EAAcc,OAAd,CAAsBK,OAAtB,CAA8B,KAAKM,MAAnC,CAAZ;AACAP,gCAAQA,QAAQ,CAAC,CAAT,GAAaA,KAAb,GAAqB,CAA7B;AACA;AACA,6BAAKhB,QAAL,CAAc,CAAd,EAAiBH,IAAjB,GAAwB,KAAKC,KAAL,CAAW,CAAX,EAAcsB,IAAd,CAAmBP,GAAnB,CAAuB;AAAA,mCAAKC,EAAEE,KAAF,CAAL;AAAA,yBAAvB,CAAxB;AACH;;;0CAEKQ,Q,EAAU;AACZ;AACA,4BAAIA,QAAJ,EAAc;AACV,mCAAOC,KAAKC,SAAL,CAAe,KAAK1B,QAApB,CAAP;AACH;AACD,+BAAO,KAAKA,QAAZ;AACH;;;;;;+BAlDgBL,M","file":"series.js","sourcesContent":["export default class series {\r\n    constructor(options, data) {\r\n        this._data = data;\r\n        this._options = options;\r\n        this.children = options.children.length > 0 ? options.children : [{\r\n            type: 'bar',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: function (params) {\r\n                        var colorList = [\r\n                            'red', 'white', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red', 'red'\r\n                        ];\r\n                        return colorList[params.dataIndex];\r\n                    }\r\n                }\r\n            }\r\n        }];\r\n        this.$init();\r\n    }\r\n\r\n    $init() {\r\n        // console.log(this);\r\n        this.$data();\r\n        this.$color();\r\n    }\r\n    $columns() {\r\n        return this._data[0].columns.map(v => v.text);\r\n    }\r\n    $color() {\r\n        let index = this._data[0].columns.indexOf(this.symbol_column);\r\n        index = index > -1 ? index : 2;\r\n        let _colors = this._data[0].rows.map(v => v[index] == 0 ? this._options.main_color : this._options.symbol_color);\r\n        this._colors = _colors;\r\n        this.children[0].itemStyle.normal.color = function (params) {\r\n            return _colors[params.dataIndex];\r\n        }\r\n    }\r\n    $data() {\r\n        let index = this._data[0].columns.indexOf(this.column);\r\n        index = index > -1 ? index : 1;\r\n        // console.log(index);\r\n        this.children[0].data = this._data[0].rows.map(v => v[index]);\r\n    }\r\n\r\n    print(toString) {\r\n        // console.log(this);\r\n        if (toString) {\r\n            return JSON.stringify(this.children);\r\n        }\r\n        return this.children;\r\n    }\r\n}"]}